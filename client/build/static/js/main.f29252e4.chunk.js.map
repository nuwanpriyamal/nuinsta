{"version":3,"sources":["components/Navbar.js","components/screens/Home.js","components/screens/Profile.js","components/screens/Login.js","components/screens/Signup.js","components/screens/CreatePost.js","components/screens/UserProfile.js","components/screens/friendspost.js","reducers/userReducer.js","App.js","serviceWorker.js","index.js"],"names":["Navbar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","console","log","postse","map","item","key","_id","postedBy","name","style","float","postid","method","Authorization","newData","filter","src","photo","color","likes","includes","body","JSON","stringify","postId","catch","err","length","title","comments","record","fontSize","text","onSubmit","e","preventDefault","target","value","placeholder","Profile","mypics","setMypics","Uimage","setUimage","mypost","FormData","append","pic","url","setItem","payload","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","alt","email","followers","following","onChange","file","files","Login","password","setPassword","setEmail","test","error","M","toast","html","token","user","Signup","setName","undefined","setUrl","uploadDeatails","message","PostData","UploadUserImage","CreatePost","setTitle","setBody","image","setImage","padding","textAlign","postDetails","userProfile","setProfile","userid","useParams","showfollow","setshowfollow","posts","followId","prevState","unfollowId","newfollower","reducer","action","createContext","Routing","parse","exact","path","UserProfile","App","useReducer","Provider","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f29252e4.chunk.js","sourcesContent":["import React,{useContext} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nconst Navbar=()=>{\r\n  const{state,dispatch}=useContext(UserContext)\r\n  const history=useHistory()\r\n  const renderList=()=>{\r\n    if(state){\r\n      return [\r\n      <li><Link to=\"/profile\">Profile</Link></li>,\r\n      <li><Link to=\"/createpost\">CreatePost</Link></li>,\r\n      <li><Link to=\"/friendspost\">FriendsPost</Link></li>,\r\n      <li>  <button  className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n      onClick={()=>{\r\n        localStorage.clear()\r\n        dispatch({type:\"CLEAR\" })\r\n        history.push('/signin')\r\n      }\r\n      }\r\n      >\r\n      Sign out\r\n      </button></li>\r\n    ]\r\n    }\r\n    else{\r\n      return[\r\n      <li><Link to=\"/signin\">Login</Link></li>,\r\n      <li><Link to=\"/signup\">Sign up</Link></li>]\r\n    }\r\n  }\r\n    return(\r\n        <nav>\r\n        <div className=\"nav-wrapper white\">\r\n          <Link to={state?\"/\":\"/signin\"} className=\"brand-logo left\">NuInsta</Link>\r\n          <ul id=\"nav-mobile\" className=\"right \">\r\n           {renderList()}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n            \r\n    )\r\n}\r\nexport default Navbar","import React,{useState,useEffect, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst Home =()=>{\r\n    const [data,setData]=useState([])\r\n    const {state,dispatch}=useContext(UserContext)\r\n    useEffect(()=>{\r\n         fetch('/allpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then (res=>res.json())\r\n        .then (result=>{\r\n           console.log(result)\r\n           setData(result.postse)\r\n        })\r\n    },[])\r\n    const likepost=(id)=>{\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id,\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n          //  console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            }) \r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const unlikepost=(id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id,\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            }) \r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const makeComment=(text,postId)=>{\r\nfetch('/comments',{\r\n    method:\"put\",\r\n    headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    },\r\n    body:JSON.stringify({\r\n        postId,\r\n        text\r\n\r\n    })\r\n}).then(res=>res.json())\r\n.then(result=>{\r\n    console.log(result)\r\n    const newData=data.map(item=>{\r\n        if(item._id==result._id){\r\n            return result\r\n        }else{\r\n            return item\r\n        }\r\n    }) \r\n    setData(newData)\r\n\r\n}).catch(err=>{\r\n    console.log(err)\r\n})\r\n    }\r\n    const deletePost=(postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n           const newData=data.filter(item=>{\r\n                return item._id !== result._id\r\n           })\r\n            setData(newData)\r\n        })\r\n    }\r\n    const deleteComment=(postId)=>{\r\n        \r\n        fetch(`/deletecomment/${postId}`,\r\n        {\r\n            \r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n      \r\n            \r\n        }).then(res=>res.json())\r\n        \r\n        .then(result=>{\r\n            \r\n            console.log(result)\r\n            const newData=data.filter(record=>{\r\n                return record._id !== result._id\r\n            })\r\n        \r\n            setData(newData)\r\n        })\r\n    }\r\n    return(\r\n        \r\n        <div className=\"home\">{\r\n           data.map(item=>{\r\n               return(\r\n              \r\n                <div className=\"card home-card\" key={item._id}>\r\n                    <h5><b><Link to={item.postedBy._id!==state._id ? \"/profile/\"+item.postedBy._id:\"/profile\"}> {item.postedBy.name}</Link></b>{item.postedBy._id==state._id \r\n                    && <i className=\"material-icons\" style={{float:\"right\"}}\r\n                    onClick={()=>deletePost(item._id)} >delete</i>}</h5>\r\n                     <div className=\"card-image\">\r\n                        <img src={item.photo}/>\r\n                    </div>\r\n                    <div className=\"card-content\">  \r\n                        <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i> \r\n                      <Link>  {item.likes.includes(state._id)? <i className=\"material-icons\" onClick={()=>{unlikepost(item._id)}}>thumb_down</i> :<i className=\"material-icons\"  onClick={()=>{likepost(item._id)}}>thumb_up</i> }</Link>\r\n                        \r\n                       \r\n               <h6> {item.likes.length} likes</h6>\r\n               <h6><b>{item.title}</b></h6>\r\n               <p> {item.body}</p>\r\n               <hr/>\r\n               {\r\n                   item.comments.map(record=>{\r\n                       return(\r\n                    \r\n                      <h6 key={record._id}>\r\n                           <b style={{fontSize:12}}><Link to={record.postedBy._id!==state._id ? \"/profile/\"+record.postedBy._id:\"/profile\"}>{record.postedBy.name}</Link></b> {record.text}{record.postedBy._id==state._id \r\n                        && <i className=\"material-icons\" style={{float:\"right\"}}\r\n                       onClick={()=>deleteComment(record._id)} >delete</i>}</h6>\r\n                   \r\n                       )\r\n                   })\r\n               }\r\n               <form onSubmit={(e)=>{\r\n                   e.preventDefault()\r\n                   makeComment(e.target[0].value,item._id)\r\n               }}>\r\n               <input type=\"text\" placeholder=\"add comment\"/>\r\n               </form>\r\n                  \r\n                 </div>\r\n \r\n            </div>\r\n           \r\n           \r\n            )\r\n                 })\r\n       }\r\n         \r\n       </div>\r\n      \r\n   \r\n    )\r\n}\r\nexport default Home\r\n","import React,{useEffect,useState,useContext} from 'react'\r\nimport{UserContext} from '../../App'\r\n\r\nconst Profile =()=>{\r\n\r\n    const [mypics,setMypics]=useState(null)\r\n    const{state,dispatch}=useContext(UserContext)\r\n    const[Uimage,setUimage] = useState(\"\")\r\n    \r\n    useEffect(()=>{\r\n        fetch('/mypost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            setMypics(result.mypost)\r\n        })\r\n    },[])\r\n    useEffect(()=>{\r\n        if(Uimage){\r\n        const data=new FormData()\r\n        data.append(\"file\",Uimage)\r\n        data.append(\"upload_preset\",\"nuinsta\")\r\n        data.append(\"cloud_name\",\"nuinsta\")\r\n        \r\nfetch(\"\thttps://api.cloudinary.com/v1_1/nuinsta/image/upload\", {\r\n    method: 'post',\r\n    body: data\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => {\r\n      console.log(data)\r\n\r\n\r\n    fetch('/changepic',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n             \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            pic:data.url\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(result=>{\r\n        console.log(result)\r\n        localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\r\n        dispatch({type:\"UPDATEPIC\",payload:result.pic})\r\n    })\r\n    //window.location.reload()\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n     } },[Uimage])\r\n    const updateUImage=(file)=>{\r\n        setUimage(file)\r\n        \r\n    }\r\n    return(\r\n        <>\r\n        {mypics ?\r\n        <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n            <div style={{\r\n         \r\n          margin:\"18px 0px\",\r\n          borderBottom:\"1px solid grey\"\r\n      }}>\r\n      <div style={{\r\n          display:\"flex\",\r\n          justifyContent:\"space-around\",\r\n         \r\n      }}>\r\n          <div>\r\n              <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}} src={state?state.pic:\"loading\"} alt=\"hello\"/>\r\n              \r\n          </div>\r\n          <div>\r\n              <h4>{state?state.name:\"loading\"} </h4>\r\n              <h5>{state?state.email:\"loading\"} </h5>\r\n              <div style={{\r\n                  display:\"flex\",\r\n                  justifyContent:\"space-between\",\r\n                  width:\"108%\"\r\n              }}>\r\n                  <h5>{mypics.length} posts</h5>\r\n                  <h5>{state.followers?state.followers.length:\"0\"} followers</h5>\r\n                  <h5>{state.following?state.following.length:\"0\"} followings</h5>\r\n              </div>\r\n          </div>\r\n          \r\n      </div>\r\n    \r\n    \r\n      <div className=\"file-field input-field\" style={{margin:\"20px 20px 0px 20px\"}}>\r\n        <div className=\"btn #64b5f6 blue lighten-2\" style={{margin:\"0px 0px 20px 0px\"}}>\r\n            <span>Update profile picture</span>\r\n            <input type=\"file\"  onChange={(e)=>updateUImage(e.target.files[0])}/>\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" placeholder=\"Upload  file\"/>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    <div className =\"gallery\">\r\n       { mypics.map(item=>{\r\n            return(\r\n                <>\r\n                {item? <img key={item._id} className=\"item\" src={item.photo} alt={item.title} /> :<h2><center>Loading..!</center></h2>}\r\n               \r\n        </>\r\n            )\r\n        })}\r\n     \r\n    </div>\r\n\r\n    </div>:\r\n    <h2><center>Loading....!</center></h2>}\r\n    </>\r\n   )\r\n    \r\n}\r\nexport default Profile\r\n","import React ,{useState,useContext,} from 'react'\r\nimport{Link,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\nconst Login =()=>{\r\n    const {state,dispatch}=useContext(UserContext)\r\n    const history = useHistory()\r\n    const[password,setPassword] = useState(\"\")\r\n    const[email,setEmail] = useState(\"\")\r\n    const PostData=()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            M.toast({html: \"invalid email\"})\r\n            return\r\n        }\r\n        \r\n        fetch(\"/signin\",{\r\n            method :\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                \r\n                password,\r\n                email\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n           if(data.error){\r\n            M.toast({html: data.error})\r\n           }\r\n           else{\r\n            localStorage.setItem(\"jwt\",data.token)\r\n            localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n            dispatch({type:\"USER\" ,payload:data.user})\r\n            M.toast({html: \"Succesfully signin\"})\r\n            history.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    \r\n    }\r\n    return(\r\n        \r\n       <div className=\"mycard\">\r\n            <div className=\"card auth-card input-field\">\r\n                <h2>NuInsta</h2>\r\n                <input  \r\n            type=\"text\"\r\n            placeholder=\"email\"\r\n            value={email}\r\n            onChange={(e)=> setEmail(e.target.value)}/>\r\n            <input \r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={password}\r\n            onChange={(e)=> setPassword(e.target.value)} />\r\n            < button className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" \r\n            onClick={()=>PostData()}>\r\n                Signin\r\n             </button>\r\n                 <h5> \r\n                 <Link to=\"/signup\">\"Don't have an account?\"</Link>\r\n             </h5>\r\n        \r\n      </div>\r\n      </div>\r\n    )\r\n}\r\nexport default Login\r\n","import React , {useState,useEffect} from 'react'\r\nimport{Link,useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nconst Signup =()=>{\r\n    const history = useHistory()\r\n    const[name,setName] = useState(\"\")\r\n    const[password,setPassword] = useState(\"\")\r\n    const[email,setEmail] = useState(\"\")\r\n    const[Uimage,setUimage] = useState(\"\")\r\n    const[url,setUrl] = useState(undefined)\r\n    useEffect(()=>{\r\n            if(url){\r\n                uploadDeatails()\r\n            }\r\n    },[url])\r\n    const UploadUserImage=()=>{\r\n        const data=new FormData()\r\n        data.append(\"file\",Uimage)\r\n        data.append(\"upload_preset\",\"nuinsta\")\r\n        data.append(\"cloud_name\",\"nuinsta\")\r\n        \r\nfetch(\"\thttps://api.cloudinary.com/v1_1/nuinsta/image/upload\", {\r\n    method: 'post',\r\n    body: data\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => {\r\n      //console.log(data)\r\n    setUrl(data.url)\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n    }\r\n    const uploadDeatails=()=>{ if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n        M.toast({html: \"invalid email\"})\r\n        return\r\n    }\r\n    else{\r\n    fetch(\"/signup\",{\r\n        method :\"post\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\"\r\n        },\r\n        body:JSON.stringify({\r\n            name,\r\n            password,\r\n            email,\r\n            pic:url\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n       if(data.error){\r\n        M.toast({html: data.error})\r\n       }\r\n       else{\r\n        M.toast({html: data.message})\r\n        history.push('/signin')\r\n       }\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n}}\r\n    const PostData=()=>{\r\n        if(Uimage){\r\n            UploadUserImage()\r\n        }\r\n        else{\r\n          uploadDeatails()  \r\n        }\r\n        \r\n    }\r\n    return(\r\n        \r\n        <div className=\"mycard\">\r\n        <div className=\"card auth-card input-field\">\r\n            <h2>NuInsta</h2>\r\n            <input  \r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            value={name}\r\n            onChange={(e)=> setName(e.target.value)}/>\r\n            <input  \r\n            type=\"text\"\r\n            placeholder=\"email\"\r\n            value={email}\r\n            onChange={(e)=> setEmail(e.target.value)}/>\r\n            <input \r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={password}\r\n            onChange={(e)=> setPassword(e.target.value)} />\r\n\r\n             <div className=\"file-field input-field\">\r\n        <div className=\"btn #64b5f6 blue lighten-2\">\r\n            <span>Upload profile image</span>\r\n            <input type=\"file\"  onChange={(e)=>setUimage(e.target.files[0])}/>\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" placeholder=\"Upload  file\"/>\r\n        </div>\r\n        </div>\r\n            < button className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" \r\n            onClick={()=>PostData()}>\r\n                Signup\r\n             </button>\r\n             <h5> \r\n                 <Link to=\"/signin\">\"Already have an account?\"</Link>\r\n             </h5>\r\n    \r\n  </div>\r\n  </div>\r\n    )\r\n}\r\nexport default Signup\r\n","import React ,{useState,useEffect} from 'react'\r\nimport M from 'materialize-css'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nconst CreatePost =()=>{\r\n    const history = useHistory()\r\n    const [title,setTitle]=useState(\"\")\r\n    const [body,setBody]=useState(\"\")\r\n    const [image,setImage]=useState(\"\")\r\n    const [url,setUrl]=useState(\"\")\r\n     useEffect(()=>{\r\n         if(url){ \r\n              fetch(\"/createpost\",{\r\n            method :\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\" ,\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                \r\n                title,\r\n                body,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            //console.log(data)\r\n           if(data.error){\r\n            M.toast({html: data.error})\r\n           }\r\n           else{\r\n            M.toast({html: \"Succesfully created\"})\r\n            history.push('/')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })}\r\n\r\n     },[url])\r\n    const postDetails=()=>{\r\n        const data=new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"nuinsta\")\r\n        data.append(\"cloud_name\",\"nuinsta\")\r\n        \r\nfetch(\"\thttps://api.cloudinary.com/v1_1/nuinsta/image/upload\", {\r\n    method: 'post',\r\n    body: data\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => {\r\n      //console.log(data)\r\n    setUrl(data.url)\r\n  })\r\n  .catch(err => {\r\n    console.log(err)\r\n  })\r\n\r\n}\r\n\r\n    \r\n\r\n    return(\r\n        <div className=\"card input field\"\r\n        style={{\r\n            margin:\"30px auto\",\r\n            maxWidth: \"500px\",\r\n            padding:\"20px\",\r\n            textAlign:\"center\"\r\n        }}\r\n        >\r\n            <input type=\"text\" placeholder=\"title\" value={title}\r\n            onChange={(e)=> setTitle(e.target.value)}/>\r\n            <input type=\"text\" placeholder=\"body\"value={body}\r\n            onChange={(e)=> setBody(e.target.value)}/>\r\n           \r\n        <div className=\"file-field input-field\">\r\n        <div className=\"btn #64b5f6 blue lighten-2\">\r\n            <span>Upload image</span>\r\n            <input type=\"file\"  onChange={(e)=>setImage(e.target.files[0])}/>\r\n        </div>\r\n        <div className=\"file-path-wrapper\">\r\n            <input className=\"file-path validate\" type=\"text\" placeholder=\"Upload  file\"/>\r\n        </div>\r\n        </div>\r\n        \r\n        <button  className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\"\r\n        onClick={()=>{postDetails()}\r\n        }\r\n        >\r\n         Create Post\r\n        </button>\r\n        </div>\r\n        \r\n    )\r\n}\r\nexport default CreatePost","import React,{useEffect,useState,useContext} from 'react'\r\nimport{UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\n\r\nconst Profile =()=>{\r\n\r\n    const [userProfile,setProfile]=useState(null)\r\n    const{state,dispatch}=useContext(UserContext)\r\n    const {userid}=useParams()\r\n    const[showfollow,setshowfollow]=useState(state?!state.following.includes(userid):true)\r\n    console.log(userid)\r\n    useEffect(()=>{\r\n        fetch(`/user/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n           setProfile(result)\r\n         \r\n        })\r\n    },[])\r\n\r\n    const followuser=()=>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({followId:userid})\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setProfile((prevState)=>{\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:[...prevState.user.followers,data._id]\r\n                    }\r\n                }\r\n            })\r\n            setshowfollow(false)\r\n        })\r\n    }\r\n\r\n    const unfollowuser=()=>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({unfollowId:userid})\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n            localStorage.setItem(\"user\",JSON.stringify(data))\r\n            setProfile((prevState)=>{\r\n                const newfollower=prevState.user.followers.filter(item=>item!==data._id)\r\n                return{\r\n                    ...prevState,\r\n                    user:{\r\n                        ...prevState.user,\r\n                        followers:newfollower\r\n                    }\r\n                }\r\n            })\r\n            setshowfollow(true)\r\n        })\r\n    }\r\n    return(\r\n        <>\r\n        {userProfile ?\r\n        \r\n        <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n        <div style={{\r\n            display:\"flex\",\r\n            justifyContent:\"space-around\",\r\n            margin:\"18px 0px\",\r\n            borderBottom:\"1px solid grey\"\r\n        }}>\r\n            <div>\r\n                <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}} src={userProfile.user.pic} alt=\"hello\"/>\r\n            </div>\r\n            <div>\r\n                <h4>{userProfile.user.name}</h4>\r\n                <h5>{userProfile.user.email}</h5>\r\n                <div style={{\r\n                    display:\"flex\",\r\n                    justifyContent:\"space-between\",\r\n                    width:\"108%\"\r\n                }}>\r\n                    <h5>{userProfile.posts.length} posts</h5>\r\n                    <h5>{userProfile.user.followers.length} followers</h5>\r\n                    <h5>{userProfile.user.following.length} followings</h5>\r\n  \r\n                </div>\r\n                {showfollow?        <button  className=\"btn waves-effect waves-light #64b5f6 red lighten-2\" style={{\r\n                    margin:\"0.5px\"\r\n                }}\r\n        onClick={()=>{followuser()}\r\n        }\r\n        >\r\n           follow\r\n        </button>\r\n        :\r\n                <button  className=\"btn waves-effect waves-light #64b5f6 red lighten-2\" style={{\r\n                    margin:\"0.5px\"\r\n                }}\r\n                onClick={()=>{unfollowuser()}\r\n                }\r\n                >\r\n                   unfollow\r\n                </button>\r\n                }\r\n        \r\n        \r\n            </div>\r\n        </div>\r\n      <div className =\"gallery\">\r\n         { userProfile.posts.map(item=>{\r\n              return(\r\n                  <img key={item._id} className=\"item\" src={item.photo} alt={item.title} /> \r\n          \r\n              )\r\n          })}\r\n       \r\n      </div>\r\n      </div>\r\n\r\n            \r\n         : <h2><center>loading...!</center></h2>\r\n        }\r\n        </>\r\n      \r\n   )\r\n    \r\n}\r\nexport default Profile\r\n","import React,{useState,useEffect, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst Home =()=>{\r\n    const [data,setData]=useState([])\r\n    const {state,dispatch}=useContext(UserContext)\r\n    useEffect(()=>{\r\n         fetch('/friendpost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then (res=>res.json())\r\n        .then (result=>{\r\n           console.log(result)\r\n           setData(result.postse)\r\n        })\r\n    },[])\r\n    const likepost=(id)=>{\r\n        fetch('/like',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id,\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n          //  console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            }) \r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const unlikepost=(id)=>{\r\n        fetch('/unlike',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                postId:id,\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            //console.log(result)\r\n            const newData=data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            }) \r\n            setData(newData)\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const makeComment=(text,postId)=>{\r\nfetch('/comments',{\r\n    method:\"put\",\r\n    headers:{\r\n        \"Content-Type\":\"application/json\",\r\n        \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    },\r\n    body:JSON.stringify({\r\n        postId,\r\n        text\r\n\r\n    })\r\n}).then(res=>res.json())\r\n.then(result=>{\r\n    console.log(result)\r\n    const newData=data.map(item=>{\r\n        if(item._id==result._id){\r\n            return result\r\n        }else{\r\n            return item\r\n        }\r\n    }) \r\n    setData(newData)\r\n\r\n}).catch(err=>{\r\n    console.log(err)\r\n})\r\n    }\r\n    const deletePost=(postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n           const newData=data.filter(item=>{\r\n                return item._id !== result._id\r\n           })\r\n            setData(newData)\r\n        })\r\n    }\r\n    const deleteComment=(postId)=>{\r\n        \r\n        fetch(`/deletecomment/${postId}`,\r\n        {\r\n            \r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n      \r\n            \r\n        }).then(res=>res.json())\r\n        \r\n        .then(result=>{\r\n            \r\n            console.log(result)\r\n            const newData=data.filter(record=>{\r\n                return record._id !== result._id\r\n            })\r\n        \r\n            setData(newData)\r\n        })\r\n    }\r\n    return(\r\n        \r\n        <div className=\"home\">{\r\n           data.map(item=>{\r\n               return(\r\n              \r\n                <div className=\"card home-card\" key={item._id}>\r\n                    <h5><b><Link to={item.postedBy._id!==state._id ? \"/profile/\"+item.postedBy._id:\"/profile\"}> {item.postedBy.name}</Link></b>{item.postedBy._id==state._id \r\n                    && <i className=\"material-icons\" style={{float:\"right\"}}\r\n                    onClick={()=>deletePost(item._id)} >delete</i>}</h5>\r\n                     <div className=\"card-image\">\r\n                        <img src={item.photo}/>\r\n                    </div>\r\n                    <div className=\"card-content\">  \r\n                        <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i> \r\n                      <Link>  {item.likes.includes(state._id)? <i className=\"material-icons\" onClick={()=>{unlikepost(item._id)}}>thumb_down</i> :<i className=\"material-icons\"  onClick={()=>{likepost(item._id)}}>thumb_up</i> }</Link>\r\n                        \r\n                       \r\n               <h6> {item.likes.length} likes</h6>\r\n               <h6><b>{item.title}</b></h6>\r\n               <p> {item.body}</p>\r\n               <hr/>\r\n               {\r\n                   item.comments.map(record=>{\r\n                       return(\r\n                    \r\n                      <h6 key={record._id}>\r\n                           <b style={{fontSize:12}}><Link to={record.postedBy._id!==state._id ? \"/profile/\"+record.postedBy._id:\"/profile\"}>{record.postedBy.name}</Link></b> {record.text}{record.postedBy._id==state._id \r\n                        && <i className=\"material-icons\" style={{float:\"right\"}}\r\n                       onClick={()=>deleteComment(record._id)} >delete</i>}</h6>\r\n                   \r\n                       )\r\n                   })\r\n               }\r\n               <form onSubmit={(e)=>{\r\n                   e.preventDefault()\r\n                   makeComment(e.target[0].value,item._id)\r\n               }}>\r\n               <input type=\"text\" placeholder=\"add comment\"/>\r\n               </form>\r\n                 \r\n                 </div>\r\n \r\n            </div>\r\n           \r\n           \r\n            )\r\n                 })\r\n       }\r\n         \r\n       </div>\r\n      \r\n   \r\n    )\r\n}\r\nexport default Home\r\n","export  const initialState = null\r\n\r\nexport const reducer=(state,action)=>{\r\n    if(action.type==\"USER\"){\r\n        return action.payload\r\n    }\r\n    if (action.type==\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type==\"UPDATE\"){\r\n        return{\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type==\"UPDATEPIC\"){\r\n        return{\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n\r\n    }\r\n    return state\r\n}","import React,{useEffect,createContext,useReducer,useContext} from 'react';\nimport \"./App.css\"\nimport Navbar from './components/Navbar'\nimport {BrowserRouter, Route ,Switch,useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Profile from './components/screens/Profile'\nimport Login from './components/screens/Login'\nimport Signup from './components/screens/Signup'\nimport CreatePost from './components/screens/CreatePost'\nimport UserProfile from './components/screens/UserProfile'\nimport Friendspost from './components/screens/friendspost'\nimport {reducer,initialState} from './reducers/userReducer'\n\nexport const UserContext=createContext()\nconst Routing = ()=>{\n  const history=useHistory()\n  const {state,dispatch} = useContext(UserContext)\n \n  useEffect(()=>{\n    const user=JSON.parse(localStorage.getItem(\"user\"))\n   if(user){\n    dispatch({type:\"USER\",payload:user})\n     //history.push('/')\n   }\n   else{\n     history.push('/signin')\n   }\n  },[])\n  return(\n    <Switch>  \n          <Route exact path=\"/\">\n        <Home/>\n      </Route>\n      <Route path=\"/signin\">\n        <Login/>\n      </Route>\n      <Route path=\"/signup\">\n        <Signup/>\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile/>\n      </Route>\n      <Route path=\"/createpost\">\n        <CreatePost/>\n        </Route>\n        <Route path=\"/profile/:userid\">\n        <UserProfile/>\n        </Route>\n        <Route path=\"/friendspost\">\n        <Friendspost/>\n        </Route>\n        </Switch>\n  \n  )\n}\nfunction App() {\n  const [state,dispatch]=useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n  <BrowserRouter >\n   <Navbar/>\n   <Routing/>\n   </BrowserRouter>\n   </UserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}